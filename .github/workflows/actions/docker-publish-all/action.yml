name: Docker Publish All
runs:
  using: "composite"
  steps:
    - name: Log in to Docker Hub
      if: github.event_name != 'pull_request'
      uses: docker/login-action@343f7c4344506bcbf9b4de18042ae17996df046d
      with:
        username: ${DOCKER_USERNAME}
        password: ${DOCKER_PASSWORD}
    - name: Publish Nexus
      uses: ./.github/workflows/actions/docker-publish
      with:
        project-name: DRN.Nexus.Hosted
        image-repository-name: drn-project-nexus
    - name: Publish Sample
      uses: ./.github/workflows/actions/docker-publish
      with:
        project-name: Sample.Hosted
        image-repository-name: drn-project-sample